syntax = "proto3";

package oci.cloud.account.v1;

import "google/api/annotations.proto";
import "google/protobuf/field_mask.proto";

import "account/v1/account.proto";
import "api/operation.proto";
import "operation/operation.proto";
import "validation.proto";

option go_package = "github.com/open-cloud-initiative/specs/gen/go/account/v1;account";

// Account service.
service AccountService {
  // Create an account
  rpc CreateAccount(CreateAccountRequest) returns (oci.cloud.api.Operation) {
    option (google.api.http) = {
      post: "/v1/accounts"
      body: "account"
    };
    option (oci.cloud.api.operation) = {
      metadata: "AccountMetadata"
    };
  };
  // Get an account by ID
  rpc GetAccount(GetAccountRequest) returns (GetAccountResponse) {
    option (google.api.http) = {
      get: "/v1/accounts/{id}"
    };
  }
}

message CreateAccountRequest {
  // Name of the account to create.
  string name = 1 [(oci.cloud.field).required = true];
  // Email of the account to create.
  string email = 2 [(oci.cloud.field).required = true];
}

message AccountMetadata {
  string id = 1;
}

message GetAccountRequest {
  // Required. The ID of the account to retrieve.
  string id = 1 [(oci.cloud.field).required = true];
}

message GetAccountResponse {
  // The account details.
  Account account = 1;
}